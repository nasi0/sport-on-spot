<ion-header [translucent]="true">
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-menu-button></ion-menu-button>
		</ion-buttons>
		<ion-title> Search Opponent </ion-title>
		<ion-buttons slot="end">
			<ion-button size="large" [routerLink]="['/account']">
				<ion-icon name="person-outline"></ion-icon>
			</ion-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">
	<div class="page-content-wrapper">
		<ion-card>
			<ion-card-header color="primary">
				<ion-card-title>Select filters</ion-card-title>
			</ion-card-header>

			<div class="display-flex-center flex-wrap">
				<app-city-suggestion (newSelectedCityEvent)="selectCity($event)" [selectedCity]="selectedCity"
					class="search-opponent__filter-wrapper search-opponent__large">
				</app-city-suggestion>
			</div>

			<ion-segment (ionChange)="onSportChanged($event)" scrollable color="secondary" class="select-sport-section">
				<ion-segment-button *ngFor="let item of sports" value="{{item._id}}">
					<fa-icon class="search-opponent__sport-icon" [icon]="icons[item.icon]"></fa-icon>
					<ion-label class="search-opponent__sport-label">{{item.name}}</ion-label>
				</ion-segment-button>
			</ion-segment>
			<div class="display-flex-center">
				<ion-button (click)="searchOpponents()" color="primary">Search</ion-button>
			</div>
		</ion-card>




		<ion-list *ngIf="lobbies?.length" class="ion-blurry-background ion-no-padding">
			<div class="found-team__wrapper-title">
				Found {{lobbies?.length}} opponents
			</div>


			<div class="found-team__wrapper" *ngFor="let lobby of lobbies" [routerLink]="['/lobby', lobby._id]">
				<div class="found-team__name">{{lobby.team?.name}}</div>
				<div class="found-team__stats-wrapper display-flex-center">
					<div class="found-team-stats display-flex-center found-team-stats__first-item">
						<ion-icon class="search-opponent__icon" name="people-outline"></ion-icon> {{lobby.teamsFormat}}
					</div>
					<div class="found-team-stats display-flex-center">
						<ion-icon class="search-opponent__icon" name="stopwatch-outline"></ion-icon>{{lobby.gameParts}}
					</div>
					<div class="found-team-stats display-flex-center">
						<ion-icon class="search-opponent__icon" name="stats-chart-outline"></ion-icon>
						{{lobby.team.winsCount}} {{lobby.team.drawsCount}} {{lobby.team.losesCount}}
					</div>
					<!-- <div class="found-team-stats display-flex-center found-team-stats__first-item">

						<ion-icon *ngFor="let star of maxStars; let i = index" class="found-team__star-icon"
							name="{{i<lobby.team?.stars? 'star' : 'star-outline'}}">
						</ion-icon>


					</div> -->
					<div class="found-team-stats display-flex-center found-team-stats__first-item">

						<ion-icon class="search-opponent__icon" name="time-outline"></ion-icon>
						{{lobby.date | date: 'dd MMM HH:mm' }}

					</div>
				</div>
				<div class="found-team__chevron-icon" slot="end">
					<ion-icon name="chevron-forward-outline"></ion-icon>
				</div>
			</div>
		</ion-list>
	</div>
</ion-content>
